(this["webpackJsonp@enactive-ac/embdr-pdf-ui"]=this["webpackJsonp@enactive-ac/embdr-pdf-ui"]||[]).push([[0],{124:function(e,t){},125:function(e,t){},126:function(e,t){},127:function(e,t){},128:function(e,t){},158:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(37),i=n(82),o=n(207),a=n(201),u=n(97),s=n(16),l=n(45),d=n.n(l),b=n(63),f=n(11),v=n(194),j=n(203),h=n(77),p=n(102);var O=n(67),g=n(6),m=n(208),x=n(205),w=n(204),P=n(196),k=n(199),y=n.n(k),C=n(202),S=n.n(C),M=n(2),E=Object(g.a)(v.a)((function(e){var t=e.theme;return"\n  padding: ".concat(t.spacing(1),"\n")})),I=function(e){var t,n=e.ContainerProps,c=e.paging,i=Object(r.useState)(null!==(t=null===c||void 0===c?void 0:c.pageNumber.toString())&&void 0!==t?t:""),o=Object(f.a)(i,2),a=o[0],u=o[1];return Object(r.useEffect)((function(){var e;u(null!==(e=null===c||void 0===c?void 0:c.pageNumber.toString())&&void 0!==e?e:"")}),[null===c||void 0===c?void 0:c.pageNumber]),Object(M.jsx)(v.a,Object(O.a)(Object(O.a)({direction:"row",spacing:2},n),{},{sx:Object(O.a)({bgcolor:"background.default",color:"text.primary"},null===n||void 0===n?void 0:n.sx),children:void 0!==c?Object(M.jsxs)(E,{alignItems:"center",direction:"row",spacing:1,children:[Object(M.jsx)(P.a,{children:"Page"}),Object(M.jsxs)(m.a,{sx:{"& .MuiButtonGroup-grouped":{minWidth:0,px:0}},children:[Object(M.jsx)(x.a,{onClick:function(){return c.onPrevPage()},children:Object(M.jsx)(y.a,{})}),Object(M.jsx)(w.a,{onBlur:function(){var e=parseInt(a);isNaN(e)||c.onSetPage(e)},onChange:function(e){return u(e.currentTarget.value)},sx:function(e){return{"& .MuiOutlinedInput-input.MuiInputBase-input":{maxWidth:"2rem",p:1,textAlign:"center"},"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main,borderRight:"none",opacity:.5},"& .MuiOutlinedInput-root":{borderRadius:0}}},value:a,variant:"outlined"}),Object(M.jsx)(x.a,{onClick:function(){return c.onNextPage()},children:Object(M.jsx)(S.a,{})})]}),Object(M.jsxs)(P.a,{children:["of ",c.totalPages]})]}):void 0}))},N=function(){var e=Object(r.useState)(1),t=Object(f.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(r.useState)(),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(r.useCallback)((function(e){return c(null===e?void 0:e)}),[]),o=Object(r.useState)(null===n||void 0===n?void 0:n.getBoundingClientRect()),a=Object(f.a)(o,2),u=a[0],s=a[1];return Object(r.useEffect)((function(){if(null!==n&&void 0!==n){var e=new ResizeObserver((function(){return s(n.getBoundingClientRect())}));return e.observe(n),function(){return e.disconnect()}}}),[n]),[i,u]}(),o=Object(f.a)(i,2),a=o[0],l=o[1],O=Object(r.useState)(),g=Object(f.a)(O,2),m=g[0],x=g[1],w=function(e,t){var n=Object(r.useState)({completed:!1}),c=Object(f.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){var t=!0;return Object(b.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e();case 3:r=n.sent,t&&o({completed:!0,value:r}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t&&o({completed:!0,error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))(),function(){t=!1}}),t),i}(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===m){e.next=6;break}return e.next=3,Promise.all((t=m.numPages,Array.from({length:t},(function(e,t){return t+1}))).map((function(e){return m.getPage(e)})));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}var t}),e)}))),[m]),P=w.value,k=Object(r.useMemo)((function(){if(void 0!==P&&void 0!==l){var e=Math.min(.05*l.width,.05*l.height),t=Math.max.apply(Math,Object(s.a)(P.map((function(e){return e.view[3]})))),n=Math.max.apply(Math,Object(s.a)(P.map((function(e){return e.view[2]})))),r=l.height-e,c=l.width-2*e,i=Math.min(r/t,c/n);return{container:P.map((function(t){return{height:t.view[3]*i+e,width:t.view[2]*i+2*e}})),scale:i}}}),[P,l]),y=Object(r.useRef)(null),C=Object(r.useState)(),S=Object(f.a)(C,2),E=S[0],N=S[1],R=Object(r.useState)(void 0),T=Object(f.a)(R,2),B=T[0],_=T[1],z=Object(r.useState)(!1),L=Object(f.a)(z,2),A=L[0],D=L[1],G=Object(r.useCallback)((function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.scrollTo,o=Math.max(1,Math.min(null!==(t=null===m||void 0===m?void 0:m.numPages)&&void 0!==t?t:1,e));(c(o),void 0!==i)&&("smooth"===i&&D(!0),null===(n=y.current)||void 0===n||n.scrollToIndex({behavior:i,index:o-1}))}),[m,y]),J=Object(r.useCallback)((function(){return G(n+1,{scrollTo:"smooth"})}),[G,n]),W=Object(r.useCallback)((function(){return G(n-1,{scrollTo:"smooth"})}),[G,n]),V=Object(r.useCallback)((function(e){if(void 0!==B){var t,n=Object(u.a)(B);try{for(n.s();!(t=n.n()).done;){var r=t.value;e>=r.offset&&e<r.offset+r.size&&c(r.index+1)}}catch(i){n.e(i)}finally{n.f()}}}),[B]);return Object(r.useEffect)((function(){if(void 0!==E&&!A){function e(){void 0===E||A||V(E.scrollTop)}return V(E.scrollTop),E.addEventListener("scroll",e),function(){return E.removeEventListener("scroll",e)}}}),[A,V,E]),Object(M.jsxs)(v.a,{sx:{height:"100%",justifyContent:"stretch",width:"100%"},children:[Object(M.jsx)(I,{paging:void 0!==(null===m||void 0===m?void 0:m.numPages)?{onNextPage:J,onPrevPage:W,onSetPage:function(e){return G(e,{scrollTo:"auto"})},pageNumber:n,totalPages:null===m||void 0===m?void 0:m.numPages}:void 0}),Object(M.jsx)(j.a,{ref:a,id:"pages-container",sx:{"& .react-pdf__Document":{height:"100%",width:"100%"},bgcolor:"grey.800",flexGrow:1},children:Object(M.jsx)(h.Document,{file:"/embdr/pages.pdf",onLoadSuccess:function(e){return x(e)},children:void 0!==m&&void 0!==l&&void 0!==k?Object(M.jsx)(p.a,{ref:y,increaseViewportBy:{bottom:l.height/2,top:l.height/2},isScrolling:function(e){e||D(!1)},itemContent:function(e){return Object(M.jsx)(j.a,{sx:{"& .react-pdf__Page":{transform:"scale(".concat(k.scale,")")},alignItems:"center",display:"flex",height:"".concat(k.container[e].height,"px"),justifyContent:"center"},children:Object(M.jsx)(h.Page,{onRenderSuccess:function(){return window.dispatchEvent(new Event("resize"))},pageNumber:e+1})})},itemsRendered:function(e){return _(e)},scrollerRef:function(e){return N(null!==e&&void 0!==e?e:void 0)},totalCount:m.numPages}):void 0})})]})};var R=Object(i.a)({palette:{mode:"dark"}}),T=function(){return Object(M.jsxs)(o.a,{theme:R,children:[Object(M.jsx)(a.a,{styles:{"html, body, #root":{height:"100%",width:"100%"}}}),Object(M.jsx)(N,{})]})};n(156),n(157),n(158);Object(c.render)(Object(M.jsx)(T,{}),document.getElementById("root"))},88:function(e,t){}},[[160,1,2]]]);
//# sourceMappingURL=main.a3d63adb.chunk.js.map