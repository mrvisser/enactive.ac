(this["webpackJsonpenactive-integration-ui"]=this["webpackJsonpenactive-integration-ui"]||[]).push([[0],{64:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),r=n(9),c=n.n(r),a=n(5),d=n(82),u=n(79),l=n(24),s=n.n(l),b=n(3),p=n(80),v={contrastText:"#fff",main:"#8d4a99"},f=Object(b.a)(Object(b.a)({},{color:"rgba(0, 0, 0, 0.87)"}),{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:16}),x={"& button":Object(b.a)(Object(b.a)(Object(b.a)({},f),{alignContent:"center",alignItems:"center",borderRadius:"0.4em",cursor:"pointer",display:"inline-flex",flexDirection:"row",justifyContent:"center",lineHeight:"1.5em",minWidth:"5em",overflow:"hidden",padding:"0.6em 0.8em",position:"relative",transition:"background 100ms linear",zIndex:1}),{},{background:"rgba(0, 0, 0, 0)",border:"none"}),"& button::before":{background:"#000",bottom:0,content:'""',left:0,opacity:0,position:"absolute",right:0,top:0,zIndex:-1},"& button:active::before, & button:hover::before, & button:focus::before":{opacity:.07},"& button:disabled":{cursor:"default",opacity:.5,pointerEvents:"none"}},j={"& button.nctv-primary":{color:v.contrastText},"& button.nctv-primary::before":{background:v.main,opacity:1},"& button.nctv-primary:active::before, & button.nctv-primary:hover::before, & button.nctv-primary:focus::before":{opacity:.85}},m=Object(b.a)(Object(b.a)(Object(b.a)({},x),{"& button.nctv-contained":{boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)"},"& button.nctv-contained::before":{opacity:.07},"& button.nctv-contained:active::before, & button.nctv-contained:hover::before, & button.nctv-contained:focus::before":{opacity:0}}),j),h=Object(p.a)("div")(Object(b.a)(Object(b.a)(Object(b.a)({},f),m),{},{"& p":Object(b.a)(Object(b.a)({},f),{},{margin:"1em 0"})})),O=n(81),g=n(1),y=Object(p.a)("div")({"&, &.enter, &.exit.exit-active, &.exit-done":{opacity:0},"&.enter-active, &.exit-active":{transition:"opacity 250ms linear"},"&.enter.enter-active, &.enter-done, &.exit":{opacity:1},borderColor:"rgba(0, 0, 0, 0.7)",borderStyle:"solid",bottom:0,left:0,position:"fixed",right:0,top:0,zIndex:1111}),E=function(t){var e=t.active,n=t.children,o=t.onOutEnd,r=void 0===o?function(){}:o,c=t.ref,d=t.style,u=i.a.useRef(null),l=i.a.useState(e),s=Object(a.a)(l,2),p=s[0],v=s[1],f=i.a.useState(!1),x=Object(a.a)(f,2),j=x[0],m=x[1];return i.a.useEffect((function(){!e||p||j?j&&(v(!1),m(!1)):v(!0)}),[e,p,j]),Object(g.jsx)(O.a,{in:e,onExited:r,nodeRef:u,timeout:250,children:Object(g.jsx)(y,{ref:function(t){u.current=t,null===c||void 0===c||c(t)},style:Object(b.a)(Object(b.a)({},d),p?void 0:{pointerEvents:"none",visibility:"hidden"}),children:n})})},w=Object(p.a)("div")({display:"flex"}),S=Object(p.a)(w)({alignItems:"stretch",flexDirection:"column",justifyContent:"flex-start"}),R=Object(p.a)(w)({alignItems:"center",justifyContent:"center"}),C=Object(p.a)("div")({flex:1}),k=(Object(p.a)("div")({}),n(30)),T=n(78),I=function(t){var e=t.anchorEl,n=t.children,o=t.offset,r=void 0===o?0:o,c=t.open,d=t.placement,u=Object(k.a)(t,["anchorEl","children","offset","open","placement"]),l=i.a.useState(null),s=Object(a.a)(l,2),p=s[0],v=s[1],f=Object(T.a)(e,p,{modifiers:[{name:"offset",options:{offset:[0,r]}}],placement:d}),x=f.attributes,j=f.styles;return Object(g.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({ref:v},u),{},{style:Object(b.a)(Object(b.a)(Object(b.a)({},u.style),j.popper),c?void 0:{pointerEvents:"none",visibility:"hidden"})},x.popper),{},{children:n}))},D=Object(p.a)(C)({fontSize:"1.2em",padding:"1em"}),N=Object(p.a)(R)({"& > *":{marginLeft:"1em"},justifyContent:"flex-end",padding:"1em"}),z=Object(p.a)("div")({bottom:"2em",height:"auto",maxWidth:"35em",position:"fixed",right:"2em"}),W=Object(p.a)(S)({backgroundColor:"white",borderRadius:"1em",position:"relative"}),L=Object(p.a)("div")({"&, &.enter, &.exit.exit-active, &.exit-done":{opacity:0,top:"2em"},"&.enter-active, &.exit-active":{transition:"opacity 250ms ease-in, top 250ms ease-in"},"&.enter.enter-active, &.enter-done, &.exit":{opacity:1,top:0},'[data-popper-placement="bottom"] &::before':{left:"calc(50% - 0.5em)",top:"-0.5em"},'[data-popper-placement="left"] &::before':{right:"-0.5em",top:"calc(50% - 0.5em)"},'[data-popper-placement="right"] &::before':{left:"-0.5em",top:"calc(50% - 0.5em)"},'[data-popper-placement="top"] &::before':{bottom:"-0.5em",left:"calc(50% - 0.5em)"},"[data-popper-placement] &::before":{backgroundColor:"white",boxShadow:"0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12)",content:'""',display:"block",height:"1em",position:"absolute",transform:"rotate(45deg)",width:"1em"},borderRadius:"1em",boxShadow:"0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12)",position:"relative"}),B=function(t){var e=t.anchorEl,n=t.buttons,o=void 0===n?[]:n,r=t.children,c=t.onOutEnd,d=void 0===c?function(){}:c,u=t.open,l=i.a.useRef(null),s=i.a.useState(u),p=Object(a.a)(s,2),v=p[0],f=p[1],x=i.a.useState(!1),j=Object(a.a)(x,2),m=j[0],h=j[1];return i.a.useEffect((function(){!u||v||m?m&&(f(!1),h(!1)):f(!0)}),[u,v,m]),void 0!==e?Object(g.jsx)(I,{anchorEl:e,offset:12,open:v,placement:"right",style:{maxWidth:"35em",zIndex:1112},children:Object(g.jsx)(O.a,{onExited:function(){h(!0),d()},in:u,nodeRef:l,timeout:250,children:Object(g.jsx)(L,{ref:l,children:Object(g.jsxs)(W,{children:[Object(g.jsx)(D,{children:r}),o.length>0?Object(g.jsx)(N,{children:o}):void 0]})})})}):Object(g.jsx)(z,{style:Object(b.a)({zIndex:1112},u?void 0:{pointerEvents:"none"}),children:Object(g.jsx)(O.a,{onExited:function(){h(!0),d()},in:u,nodeRef:l,timeout:250,children:Object(g.jsx)(L,{ref:l,children:Object(g.jsxs)(W,{children:[Object(g.jsx)(D,{children:r}),o.length>0?Object(g.jsx)(N,{children:o}):void 0]})})})})},_=function(t){var e=t.active,n=t.buttonDismissText,o=void 0===n?"Dismiss":n,i=t.buttonNextText,r=void 0===i?"Next":i,c=t.html,a=t.onDismiss,d=void 0===a?function(){}:a,u=t.onNext,l=t.onOut,s=void 0===l?function(){}:l,b=t.targetEl;return Object(g.jsx)(B,{anchorEl:b,buttons:[Object(g.jsx)("button",{onClick:function(){return d()},children:o},"dismiss"),void 0!==u?Object(g.jsx)("button",{className:"nctv-primary",onClick:u,children:r},"next"):void 0].filter((function(t){return void 0!==t})),open:e,onOutEnd:s,children:Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})})},F=function(t){var e=t.onComplete,n=t.tour,o=i.a.useState(-1),r=Object(a.a)(o,2),c=r[0],d=r[1],u=i.a.useState(),l=Object(a.a)(u,2),s=l[0],b=l[1],p=i.a.useState(window.scrollY),v=Object(a.a)(p,2)[1],f=i.a.useMemo((function(){return n.map((function(t){var e;return{step:t,targetEl:null!==(e=function(){var e;switch(null===(e=t.selector)||void 0===e?void 0:e.type){case"css":return document.querySelector(t.selector.value);case"xpath":return document.evaluate(t.selector.value,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;case void 0:return null}}())&&void 0!==e?e:void 0}}))}),[n]);return i.a.useEffect((function(){setTimeout((function(){return d(0)}),1e3);var t=function(){return v(window.scrollY)};return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[]),Object(g.jsx)(g.Fragment,{children:f.map((function(t,o){var i,r,a,u,l=t.step,p=t.targetEl;return Object(g.jsxs)("div",{children:[l.mask?Object(g.jsx)(E,{active:-1!==s&&(c===o&&void 0===s||s===o),style:function(){var t,e,n,o,i=null===p||void 0===p?void 0:p.getBoundingClientRect(),r=null!==(t=null===i||void 0===i?void 0:i.x)&&void 0!==t?t:0,c=null!==(e=null===i||void 0===i?void 0:i.y)&&void 0!==e?e:0,a=null!==(n=null===i||void 0===i?void 0:i.width)&&void 0!==n?n:0,d=null!==(o=null===i||void 0===i?void 0:i.height)&&void 0!==o?o:0;return{borderBottomWidth:"calc(100vh - ".concat(c+d,"px)"),borderLeftWidth:null===p||void 0===p?void 0:p.getBoundingClientRect().x,borderRightWidth:"calc(100vw - ".concat(r+a,"px)"),borderTopWidth:null===p||void 0===p?void 0:p.getBoundingClientRect().y}}()},"mask-".concat(o)):void 0,Object(g.jsx)(_,{active:void 0===s&&c===o,buttonDismissText:null===(i=l.buttons)||void 0===i||null===(r=i.find((function(t){return"dismiss"===t.action})))||void 0===r?void 0:r.text,buttonNextText:null===(a=l.buttons)||void 0===a||null===(u=a.find((function(t){return"next"===t.action})))||void 0===u?void 0:u.text,html:l.html,onDismiss:function(){return b(-1)},onOut:function(){-1===s?e(o):void 0!==s&&(d(s),b(void 0))},onNext:o<n.length-1?function(){return b(o+1)}:void 0,targetEl:p},"popup-".concat(o))]},o)}))})},H=n(15),M=n.n(H),P=n(27),Y=n(28),J=n(29),q=function(){function t(e){Object(Y.a)(this,t),this.axios=e}return Object(J.a)(t,[{key:"getTour",value:function(){var t=Object(P.a)(M.a.mark((function t(){var e,n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={context:{url:window.location.href}},t.next=3,this.axios.post("/api/v1/tours",e);case 3:return n=t.sent,t.abrupt("return",n.data.tours[0]);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),A=new q(s.a.create({baseURL:"https://performance.ally.ac"})),U=Object(d.a)({productionPrefix:"nctv"}),V=function(){var t=i.a.useState(),e=Object(a.a)(t,2),n=e[0],o=e[1];return i.a.useEffect((function(){A.getTour().then((function(t){return o(null===t||void 0===t?void 0:t.steps)}))}),[]),Object(g.jsx)(u.b,{generateClassName:U,children:Object(g.jsx)(h,{children:void 0!==n?Object(g.jsx)(F,{onComplete:function(){return o(void 0)},tour:n}):Object(g.jsx)(g.Fragment,{})})})};n(63);c.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("enactive-app-root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.b317bba2.chunk.js.map